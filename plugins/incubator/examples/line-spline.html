<!doctype html><title>Minimal tQuery Page</title>
<script src="../../../build/tquery-bundle-require.js"></script>
<body><script>
require(['tquery.pproc'], function(){

	var world	= tQuery.createWorld().boilerplate().start();

	var object	= tQuery.createTorus().addTo(world)
				.scaleBy(3);	
				
	world.tRenderer().setClearColorHex( 0x000000, 1 );

	var composer	= tQuery.createEffectComposer().renderPass();
//composer.sepia()
//	composer.bleachbypass()
	//composer.verticalBlur(1.1)
	//composer.horizontalBlur(1.1)
//composer.motionBlur(0.1);
	//composer.fxaa();
	//composer.colorify();
composer.bloom(0.2).vignette().finish();


	var points	= [];
	points.push( tQuery.createVector3(-0.7, 0.7, 0) );
	points.push( tQuery.createVector3( 0.7, 0.7, 0) );
	points.push( tQuery.createVector3( 0.7,-0.7, 0) );
	points.push( tQuery.createVector3(-0.7,-0.7, 0) );

	points.push( tQuery.createVector3(-0.7, 0.7, 0) );
	points.push( tQuery.createVector3(-0.7, 0.7, 0) );
	
	points	= [];
	for(var i = 0;i < 15; i++){
		var positionX	= 1 * (Math.random()-0.5)
		var positionY	= 1 * (Math.random()-0.5)
		var positionZ	= 1 * (Math.random()-0.5)
		points.push( tQuery.createVector3(positionX, positionY, positionZ) );
	}
	

	var spline	= new THREE.Spline( points );
	
	var nSubdivision= 30;
	var vertices	= [];
	var colors	= [];
	for( i = 0; i < points.length * nSubdivision; i++){
		var index	= i / (points.length * nSubdivision );
		var position	= spline.getPoint( index );
		vertices[i]	= new THREE.Vector3( position.x, position.y, position.z );
		colors[i]	= new THREE.Color( 0xffffff );
		//colors[ i ].setHSV( 0.6, ( 0.5 + position.y ) / 1, 1.0 );
		colors[ i ].setHSV( (index*5)%1, 1.0, 1.0 );
	}


	var tMaterial	= new THREE.LineBasicMaterial({
		linewidth	: 5,
		vertexColors	: THREE.VertexColors
	});	
	var tGeometry	= new THREE.Geometry(); 
	tGeometry.vertices	= vertices;
	tGeometry.colors	= colors;
	
	var line	= new THREE.Line(tGeometry, tMaterial);
	world.add(line)	
});
</script></body>