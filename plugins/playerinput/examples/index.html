<!doctype html><title>Minimal tQuery Page</title>
<script src="../../../build/tquery-bundle-require.js"></script>

<script src='../tquery.playerinput.js'></script>

<script src="../../../vendor/threex/THREEx.KeyboardState.js"></script>
<script src="../../keyboard/tquery.keyboard.js"></script>
<script src='../tquery.playerinput.keyboard.js'></script>

<script src='../../virtualjoystick/vendor/virtualjoystick.js'></script>
<script src='../tquery.playerinput.virtualjoystick.js'></script>

<script src="../../../vendor/threex/THREEx.DeviceOrientationState.js"></script>
<script src="../../deviceorientation/tquery.deviceorientation.js"></script>
<script src="../tquery.playerinput.deviceorientation.js"></script>

<body>
<pre id='debug' style='position: absolute; left: 0px; top: 0px; margin: 0px;'></pre>
<script>
	var world	= tQuery.createWorld().boilerplate().start();
	var object	= tQuery.createTorusKnot().addTo(world);

	world.removeCameraControls();

	var onMobile	= 'ontouchstart' in window ? true : false;
	var playerInput	= tQuery.createPlayerInput();
	world.hook(function(){
		var input	= playerInput
		// reset each value
		input.right	= false;
		input.left	= false;
		input.up	= false;
		input.down	= false;
		input.deltaX	= 0;		// < 0 for left - > 0 for right 
						// Math.abs(value) === 1 is normal speed
		input.deltaY	= 0;
	})

	//onMobile === true	&& 
	tQuery.PlayerInput.createVirtualJoystick(playerInput)
	//onMobile === false 	&& 
	tQuery.PlayerInput.createKeyboard(playerInput)
	//true 	&& 
	tQuery.PlayerInput.createDeviceOrientation(playerInput)

	var domElement	= document.querySelector('#debug')
	world.hook(function(){
		domElement.innerText	= JSON.stringify(playerInput, null, '\t')
	});
	
	world.hook(function(delta, now){
		var displacement	= 1 * delta;
		if( playerInput.up )	object.translateZ(-displacement)
		if( playerInput.down )	object.translateZ( displacement)
		if( playerInput.left )	object.translateX(-displacement)
		if( playerInput.right )	object.translateX( displacement)
	});
</script></body>