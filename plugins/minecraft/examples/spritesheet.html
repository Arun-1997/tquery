<!doctype html><title>Minimal tQuery Page</title>
<script src="../../../build/tquery-bundle.js"></script>
<script src="../tquery.spritesheet.js"></script>
<body><script>
	var world	= tQuery.createWorld().boilerplate().start();
	//var material	= new THREE.MeshBasicMaterial({
	//	color		: 0x000000,
	//	wireframe	: true
	//})
	//tQuery.createCube(material).addTo(world);

	world.tRenderer().setClearColorHex(0x444444,1);
	world.tCamera().position.z	= 8;

	if( true ){ 
		var spritesheet	= new tQuery.Spritesheet({
			url	: 'images/items/items.png',
			imgW	: 256,
			imgH	: 256,
			spriteW	: 16,
			spriteH	: 16
		});
	}else{
		var spriteW	= 32;
		var spriteH	= 32;
		var spritesheet	= new tQuery.Spritesheet({
			url	: 'images/items/explosion.png',
			imgW	: spriteW*17,
			imgH	: spriteH*3,
			spriteW	: spriteW,
			spriteH	: spriteH
		});		
	}
	spritesheet.bind('load', function(){
		console.log("image loaded");
		//items.createMesh(10+2*16).addTo(world);
		//spritesheet.createMesh(10+2*16).addTo(world);

		var nSpriteX		= 17
		var nSpritePerSecond	= 20;

		var meshes	= [];
		for(var i=0; i < nSpriteX; i++){
			var mesh	= spritesheet.createMesh(i+0*16);

			mesh.visible(true).scaleBy(2,2,2*4)
			mesh.addTo(world)

			meshes.push(mesh)
		}
		
		world.loop().hook(function(delta, now){
			meshes.forEach(function(mesh){
				mesh.visible(false);
			})
			var idx	= Math.floor(now*nSpritePerSecond) % nSpriteX;
			meshes[idx].visible(true);
		})
	})
	


</script></body>