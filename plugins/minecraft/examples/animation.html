<!doctype html><title>Minimal tQuery Page</title>
<script src="../../../build/tquery-bundle.js"></script>
<script src="../tquery.minecraftchar.js"></script>


<script src="../../tweenjs/examples/Tween.js"></script>

<script src="../tquery.animation.js"></script>
<script src="../tquery.animations.js"></script>

<body><script>
	var world	= tQuery.createWorld().boilerplate().start();

	var character	= new tQuery.MinecraftChar();
	character.model.addTo(world)
	//character.model.rotateY(-2*Math.PI/3);

	// legs animation
	// "walk", "run", "jump", "stand"

	var angleRange	= Math.PI/2-Math.PI/10;
	var animRun	= tQuery.createAnimation().pushKeyframe(0.5, {
		armRotationZ	: +angleRange,
		legRotationZ	: -angleRange			
	}).pushKeyframe(0.5, {
		armRotationZ	: -angleRange,
		legRotationZ	: +angleRange
	}).addEventListener('updatePosition', function(position){
		character.parts.armR.rotation.z	=  position.armRotationZ;
		character.parts.armL.rotation.z = -position.armRotationZ;
		character.parts.legR.rotation.z	=  position.legRotationZ;
		character.parts.legL.rotation.z = -position.legRotationZ;
	});
	//animRun.start();

	var animStand	= tQuery.createAnimation().pushKeyframe(1, {
		armRotationZ	: 0,
		legRotationZ	: 0
	}).addEventListener('updatePosition', function(position){
		character.parts.armR.rotation.z	=  position.armRotationZ;
		character.parts.armL.rotation.z = -position.armRotationZ;
		character.parts.legR.rotation.z	=  position.legRotationZ;
		character.parts.legL.rotation.z = -position.legRotationZ;
	})
	//animStand.start();
	
	var animations	= tQuery.createAnimations();
	animations.add('run', animRun)
	animations.add('stand', animStand)

</script></body>