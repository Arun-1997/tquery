<!doctype html><title>Example for tQuery.minecraft plugins</title>
<script src="../../../build/tquery-bundle.js"></script>
<script src="../tquery.minecraftchar.js"></script>

<body><div id="info">
	Example of tQuery.minecraft plugins<br/>
	<a href="../../../www/vendor/doccoviewer/#../../../plugins/minecraft/examples/post.html" target="_blank">Annotated Source</a>
</div>
<div style="position: absolute; font-size: 200%; right: 0;">
	<select id="skinSelect" onchange='character.loadSkin(this.value);'>
		<option value="images/char.png">char</option>
		<option value="images/3djesus.png">3djesus</option>
		<option value="images/agentsmith.png">agentsmith</option>
		<option value="images/batman.png">batman</option>
		<option value="images/god.png">god</option>
		<option value="images/jamesbond-1.png">jamesbond-1</option>
		<option value="images/Joker.png">Joker</option>
		<option value="images/Mario.png">Mario</option>
		<option value="images/martialartist.png">martialartist</option>
		<option value="images/robocop.png">robocop</option>
		<option value="images/Sonicthehedgehog.png">Sonic the hedgehog</option>
		<option value="images/Spiderman.png">Spiderman</option>
		<option value="images/Superman.png">Superman</option>
		<option value="images/theflash.png">theflash</option>
		<option value="images/woody.png">woody</option>
	</select>
</div><script>
	// ## Let's start coding

	// We start to create our world as usual. 
	var world	= tQuery.createWorld().boilerplate().pageTitle('#info').start();
	world.tCamera().position.z	= 1.8;

	// Now that we go a world. We will create a minecraft character.
	// ```tQuery.MinecraftChar``` is the main class. It will create 
	// a character model and expose all its limbs too e.g right legs or right arms.
	// More on that later.
	// As you can see, we specify ```skinUrl``` parameter. It should point to the 
	// image of the skin texture. You can change it anytime with ```character.loadSkin(skinUrl)```
	var character	= new tQuery.MinecraftChar({
		skinUrl	: 'images/3djesus.png'
	}); 
	// add the model to our world
	character.model.addTo(world);

	// ## Make this model moves

	// So we talked about exposed limbs... kinda gross, almost disturbing :)
	// In fact it just means each part of our model is exposed for you to 
	// play with. It has the head, legs right and left, and the same for the arms.

	// So the first step is to hook a function in the world rendering loop.
	// two parameters are passed ```delta``` and ```now```. ```delta``` is the number
	// of seconds since the last iteration of the rendering loop. ```now``` is the absolute
	// time in seconds.
	// We use those values to tune the animation. Thus it will be animated at the same
	// speed no matter the [fps](http://en.wikipedia.org/wiki/Frame_rate) rate of your computer.
	world.loop().hook(function(delta, now){
		var angle	= 1/2 * now*Math.PI*2;
		character.parts.armR.rotation.x	= 1.4 * Math.cos(angle + Math.PI);
		character.parts.armL.rotation.x	= 1.4 * Math.cos(angle);
	});

	// make the head move
	world.loop().hook(function(delta, now){
		character.parts.headGroup.rotation.x	= Math.sin(now*1.5)/3;
		character.parts.headGroup.rotation.y	= Math.sin(now)/3;
	}); 
	
	// make the legs move
	world.loop().hook(function(delta, now){
		var angle	= 1/2 * now*Math.PI*2;
		character.parts.legR.rotation.x	= 1.4 * Math.cos(angle);
		character.parts.legL.rotation.x	= 1.4 * Math.cos(angle + Math.PI);
	});

</script></body>