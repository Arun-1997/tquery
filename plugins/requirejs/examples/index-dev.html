<!doctype html>
<script src="../../../build/tquery-bundle.js"></script>
<script src="../../../plugins/requirejs/vendor/require.js"></script>
<script src="../../../plugins/requirejs/build/all.confrequire.js"></script>
<body><script>
	require(['tquery.createplanet','tquery.keyboard', 'tquery.minecraft'], function(){
		var world	= tQuery.createWorld().boilerplate().start();
		var planet	= tQuery.createPlanet().addTo(world);
		
		// add a minecraft character
		var minecraft	= tQuery.createMinecraftChar().addTo(world);
		minecraft.loadSkin(tQuery.MinecraftChar.baseUrl+'examples/images/agentsmith.png')
		minecraft.model('root').translateY(-0.5)
		
		// setup light
		tQuery.createDirectionalLight().addTo(world).position(1,1,1);
		tQuery.createDirectionalLight().addTo(world).position(-1,1,1);
		tQuery.createAmbientLight().addTo(world).color(0xFFFFFF);
		// make the object rotate
		world.loop().hook(function(delta, now){
			var angle	= 0.05 * now * Math.PI * 2;
			planet.get(0).rotation.y	= angle;

			var curScale	= planet.get(0).scale.x;
			var dstScale	= tQuery.keyboard().pressed('a') ? 2 : 1;
			planet.scale( curScale + (dstScale-curScale)*0.1 );
		});
	});
</script>



