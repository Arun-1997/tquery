<!DOCTYPE html>

<!--
* TODO
  * complete the 'mimic jquery api'
  * do a few slide in principles.md / relation with three.js
  * present a few featured existing plugin
    * md2character
    * shape
    * text
    * csg
    * domevent
    * fireball
    * video

* TODO relation three.js
  * three.js is actively maintained
  * it is quite popular
  * push a bunch of principles

* show power ofextension
  * demo of extensions
  * catalogue
  * short description
  * show a sample code
  * show it in the action in /pluging/*/examples
  * code plus iframe same screen

-->

<html>
<head>
	<title>tQuery: three.js + jQuery ?</title>
	<base target=”_blank” />
	<meta charset='utf-8'/>
	<script src='slides.js'></script>
</head>

<body style='display: none'>
	<style>
	span.orange {
		color		: orange;
	}
	span.larger {
		font-weight	: bolder;
		font-size	: 120%;
	}
	</style>
	<section class='slides layout-regular template-default'>

<!-- ****************************************************************************
		Talk Introduction
********************************************************************************* -->
	<article>
		<h1>
			<span style="font-size: 120%; color: orange;">tQuery</span>
			<br/>
			<br/>
		</h1>
		<h3 style="font-size: 120%">
			<center>
				<span style="color: orange">t</span>hree.js
				power
				+
				j<span style="color: orange">Query</span>
				API Usability
			</center>
			<br>
		</h3>
		<p>
			Jerome Etienne
		</p>
	</article>
	<article>
		<h3>
			Who Am I
		</h3>
		<img style="float:right" src='jetienne-avatar.jpg' />
		<ul>
			<li>
				coder, speaker, trainer
			</li>
			<li>
				Proud member of Web-5 association
			</li>
			<li>
				Javascript, Node.js, WebGL and other HTML5 games stuff
			</li>
		</ul>
		<h4>Learning Three.js</h4>
		<ul>
			<li>
				Author of <a href="http://learningthreejs.com">learningthreejs</a> blog
			</li>
			<li>
				Lists of three.js tutorials or "WebGL for dummies"
			</li>
		</ul>
		<h4>Contacts</h4>
		<ul>
			<li>
				<a href='https://twitter.com/jerome_etienne'>@jerome_etienne</a> on twitter,
				<a href='http://github.com/jeromeetienne'>jeromeetienne</a> on github
			</li>
		</ul>
	</article>

<!-- ****************************************************************************
		tQuery 5min Presentation
********************************************************************************* -->
	<article>
		<h2>
			tQuery in all that ?
		</h2>
	</article>
	<article>
		<h3>
			tQuery Started as a Dream :)
		</h3>
		<h4>Wishes</h4>
		<ul>
			<li>
				"You want to know webgl? Good news! You already know it, just replace
				<span class='larger'>j</span> by <span class='larger'>t</span>!"
				<ul>
					<li>you know <span class='larger'>j</span>Query, so you know <span class='larger'>t</span>Query</li>
				</ul>
			</li>
			<li>
				"WebGL should not be harder than playing with lego."
			</li>
			<li>
				"WebGL for jQuery enthousiasts"
			</li>
		</ul>
		<h4>Would like them to be true one day...</h4>
		<ul>
			<li>
				Working hard on it :)
			</li>
		</ul>
	</article>
	<article>
		<h2>
			and more preciselly ?
		</h2>
	</article>
	<article>
		<h3>
			What is tQuery
		</h3>
		<h4>Technical</h4>
		<ul>
			<li>
				Extension system for three.js
			</li>
			<li>
				Mimic jQuery API
			</li>
		</ul>
		<h4>Direction</h4>
		<ul>
			<li>
				<strong>Technical:</strong> three.js power + jQuery API usability
			</li>
			<li>
				<strong>Human:</strong> Bring 3D to non-specialists
			</li>
		</ul>
	</article>
	<article>
		<h2>
			Freeze! Show, dont tell.
		</h2>
	</article>
	<article class='nobackground'>
		<h3>
			Here is a <span class='orange'>Minimal</span> Page - the <span class='orange'>SOURCE</span>
		</h3>
		<section>
		<pre>
&lt;!doctype html&gt;&lt;title&gt;Minimal tQuery Page&lt;/title&gt;
&lt;script src=&quot;../../build/tquery-bundle.js&quot;&gt;&lt;/script&gt;
&lt;body&gt;&lt;script&gt;
    var world	= tQuery.createWorld().boilerplate().start();
    var object	= tQuery.createTorus().addTo(world);
&lt;/script&gt;&lt;/body&gt;
</pre>
		</section>
		<ul>
			<li>
				Super short (only 6-lines !)
			</li>
			<li>
				jQuery-like syntax
			</li>
			<li>
				Full HTML page. valid HTML5
			</li>
			<li>
				See it running <a target="_blank" href="http://127.0.0.1:8000/plugins/minimal/examples">here</a>
			</li>
		</ul>
	</article>
	<article class='nobackground'>
		<h3>
			Here is a <span style="color: orange">Minimal</span> Page - the <span style="color: orange">DEMO</span>
		</h3>
		<iframe src='http://127.0.0.1:8000/plugins/minimal/examples'
			allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
	</article>
	<article>
		<h2>
			OK, go on now.
		</h2>
	</article>
	<article>
		<h3>
			tQuery is an <span style="color: orange">Extension System</span>
		</h3>
		<ul>
			<li>
				<strong>Must</strong> make three.js easier to extend
			</li>
		</ul>
		<h4>Thus people can</h4>
		<ol>
			<li>
				do plugins for three.js (like they do in jQuery)
			</li>
			<li>
				They share their work
			</li>
			<li>
				They build on top of each other
			</li>
			<li>
				Open Source spirit
			</li>
		</ol>
		<h4>
			All good in my book
		</h4>
	</article>
	<article>
		<h3>
			tQuery Goal : <span style="color: orange">three.js power</span> + <span style="color: orange">jQuery API usability</span>
		</h3>
		<h4>three.js power:</h4>
		<ul>
			<li>
				actively developped by a team of skilled dev
			</li>
			<li>
				significant community around three.js
			</li>
		</ul>
		<h4>jQuery API usability</h4>
		<ul>
			<li>
				widely recognized (85% market share)
			</li>
			<li>
				successful plugin ecosystem
			</li>
		</ul>
	</article>

	<article>
		<h2>
			What is your deal with jQuery ?
		</h2>
	</article>

	<article>
		<h3>
			Why jQuery ?
		</h3>		
		<h4>Always admired their plugins ecosystem</h4>
			<ul>
				<li>
					varied, lively
				</li>
				<li>
					some impressive specimens
				</li>
			</ul>
		<h4>jQuery is popular</h4>
			<ul>
				<li>
					85% of marketshare
				</li>
			</ul>
		<h4>Match my goal: "<strong style="color: orange">Bring 3D to non-specialists</strong>"</h4>
			<ul>
				<li>
					people who know jQuery will learn tQuery in no time
				</li>
			</ul>

	</article>
<!-- ****************************************************************************
		Mimic jQuery-API
********************************************************************************* -->
	<article>
		<h2>
			So you copy jQuery ?
		</h2>
	</article>
	<article class='nobackground'>
		<h3>
			tQuery Mimics jQuery API
		</h3>
		<h4>Motivation</h4>
		<ul>
			<li>
				It makes tQuery very easy to learn if you know jQuery
			</li>
			<li>
				Very important. It got significant consequences.
				<span class="orange">Not Kidding</span>
			</li>
		</ul>
		<h4>Principles</h4>
		<ul>
			<li>
				for api, copy jquery API whenever possible
			</li>
			<li>
				helpers may be provided, but jquery is the auhority
			</li>
		</ul>

	</article>
	<article>
		<h2>
			hmm up to which point ?	
		</h2>
	</article>
<!--
* for Each
  * short description
  * add a <pre> with the code
  * a short code in the playground
    * prepared. not typed live
-->
	<article>
		<h3>
			Key aspects of jQuery
		</h3>
		<ul>
			<li>DOM tree from webpages</li>
			<li>Chained API</li>
			<li>ID and Class</li>
			<li>CSS-like selector</li>
			<li>DOM events</li>
		</ul>
	</article>
	<article>
		<h3>
			Dom Tree
		</h3>
		<h4>DOM and 3D Scene: <span class="orange">both suprisingly similar</strong></h4>
		<ul>
			<li>
				<strong>jQuery and DOM</strong> got a tree of elements from webpages
			</li>
			<li>
				<strong>three.js</strong> got a hierachy of objects too
			</li>
		</ul>
		<table>
			<tr>
				<th></th>
				<th>DOM</th>
				<th>Three.js</th>
			</tr>
			<tr>
				<th>Hierachy</th>
				<td>DOM tree</th>
				<td>scene</th>
			</tr>
			<tr>
				<th>Element</th>
				<td>DOMElement</th>
				<td>THREE.Object3D</th>
			</tr>
		</table>
		<ul>
			<li>On one hand, jquery got the dom and its tree of element.</li>
			<li>On the other hand, three.js got a scene with Object3D.</li>
		</ul>
	</article>
	<article>
		<h3>
			Chained API	
		</h3>
		<pre>
tQuery('.fooKlass').scale(2).translate(1,0,0);
</pre>
		<h4>Well known feature jQuery</h4>
		<ul>
			<li>Playground <a href='http://127.0.0.1:8000/www/playground'>example</a></li>
		</ul>
	</article>
	<article>
		<h3>
			ID and Class
		</h3>
		<pre>
var cube    = tQuery().createCube();
cube.id("myId");    // set the id of this element
cube.addClass('fooKlass');  // add 'fooKlass' class to this cube
cube.data('goom', 'baa');
</pre>
		<ul>
			<li>Playground <a href='http://127.0.0.1:8000/www/playground/#j/{"textValue":"<!doctype html><title>tQuery minimal page</title>\n<script src=\"../../build/tquery-all.js\"></script>\n<body><script>\n\tvar world = tQuery.createWorld().boilerplate().start();\n\tvar object = tQuery.createTorus().addTo(world);\n\t\n\t// set the object ID\n\tobject.id(\"myObject\");\n\n\t// get the object by its ID\n\t// tQuery(\"#myObject\").scaleBy(2);\n\t\n</script></body>"}'>example</a></li>
			<li>Notice css-like selector ?</li>
			<li>it works for class and id with jQuery</li>
		</ul>
	</article>
	<article>
		<h3>
			CSS-like Selector
		</h3>
		<p>for classes and id as we just saw in previous slide</p>
		<h4>Selector based on <span class='orange'>geometry</span>, similar to a jQuery('span')</h4>
		<pre>
tQuery('sphere');   // select all objects with a sphere gemotry
tQuery('cube');     // same with a cube gemotry
</pre>
		<ul>
			<li>Playground <a href='http://127.0.0.1:8000/www/playground/#j/{"textValue":"<!doctype html><title>tQuery minimal page</title>\n<script src=\"../../build/tquery-all.js\"></script>\n<body><script>\n\tvar world = tQuery.createWorld().boilerplate().start();\n\t// add a cube\n\ttQuery.createCube().addTo(world).translateX(+0.8);\n\t// add a sphere\n\ttQuery.createSphere().addTo(world).translateX(-0.8);\n\t\n\t// select an object based on its geometry\n\t// tQuery(\"cube\").scaleBy(0.5);\n\t// tQuery(\"sphere\").scaleBy(0.5);\n</script></body>"}'>example</a></li>
		</ul>
	</article>
	<article>
		<h3>
			CSS-like Selector
		</h3>
		<h4>can <span class='orange'>compose</span> them like with jQuery</h4>
		<pre>
tQuery('.bar.foo')  // objects with class 'bar' and 'foo'
tQuery('.bar cube') // objects with class 'bar' and cube descandants
</pre>
		<ul>
			<li>Playground <a href='http://127.0.0.1:8000/www/playground/#j/{"textValue":"<!doctype html><title>tQuery minimal page</title>\n<script src=\"../../build/tquery-all.js\"></script>\n<body><script>\n\tvar world = tQuery.createWorld().boilerplate().start();\n\t// add a cube\n\ttQuery.createCube().addTo(world).translateX(+0.8);\n\t// add a sphere\n\ttQuery.createCube().addTo(world).translateX(-0.8).addClass(\"foobar\");\n\t\n\t// select an object based on its geometry\n\t// tQuery(\"cube\").scaleBy(0.5);\n\t// tQuery(\"cube.foobar\").scaleBy(0.5);\n</script></body>"}'>example</a></li>
		</ul>
	</article>
	<article>
		<h3>
			Dom Events
		</h3>
		<pre>
tQuery('cube').on('click', function(){
    console.log("somebody put the mouse over a cube");
});
</pre>
		<ul>
			<li>Playground <a href='http://127.0.0.1:8000/www/playground/#j/{"textValue":"<!doctype html><title>tQuery minimal page</title>\n<script src=\"../../build/tquery-all.js\"></script>\n<body><script>\n\tvar world = tQuery.createWorld().boilerplate().start();\n\t// add a cube\n\ttQuery.createCube().addTo(world);\n\t// bind the click event\n\ttQuery(\"cube\").on(\"click\", function(event){\n\t\t// get the target object\n\t\tvar object3d = tQuery(event.target);\n\t\t// double its size\n\t\tobject3d.scaleBy(1.2);\n\t});\n</script></body>"}'>example</a></li>
		</ul>
		<h4>Supported Events</h4>
		<ul>
			<li>click and dblclick</li>
			<li>mouseup and mousedown</li>
			<li>mouseover and mouse out</li>
		</ul>
	</article>
	<article>
		<h2>
			ok so it is for real.
		</h2>
	</article>
	<article>
		<h3>
			Mimicing jQuery API for fun and profit
		</h3>
		<ul>
			<li>
				Well-known for its usability
			</li>
			<li>
				Much easier to learn
			</li>
		</ul>
		<h4>
			jQuery API is authoritative!
		</h4>
	</article>
	
<!-- ****************************************************************************
		Tube Mini Game
********************************************************************************* -->
	<article>
		<h2>
			Bla bla bla ... all talk.
			Show something!
		</h2>
	</article>
	<article class='nobackground'>
		<h3>
			Here is a <span style="color: orange">mini-game</span>
		</h3>
		<p>
			click <a target="_blank" href="http://127.0.0.1:8000/plugins/tunnelgl/">here</a>
		</p>
		<iframe src='http://127.0.0.1:8000/plugins/tunnelgl/' style="height: 80%;"
			allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
	</article>
	<article>
		<h2>
			Ok not bad, what about the code?
		</h2>
	</article>
	<article class='nobackground'>
		<h3>
			Build the tube's <span style="color: orange">walls</span>
		</h3>
		<section>
		<pre>
// HINT: a tunnel is a cylinder seen from inside.
// Once you realized that, most of the work is done.

// create the object
var tube = tQuery.createCylinder();

// now lets turn it inside out - flip the geometry
tube.geometry().flip();
</pre>
		</section>
	</article>
	<article class='nobackground'>
		<h3>
			<span style="color: orange">Advancing</span> into the tube
		</h3>
		<section>
		<pre>
tubeTexture.material().textureScrolling({
    // transform the texture on render
    transform	: function(tTexture){
        // to go forward
        tTexture.offset.y	+= 0.2;
        // make it loop
        tTexture.offset.y	%= 1;
    }
});
</pre>
		</section>
		<ul>
			<li>
				It is all an illusion!
			</li>
			<li>
				"There is no spoon" - matrix
			</li>
		</ul>
	</article>
	<article class='nobackground'>
		<h3>
			Making the tube <span style="color: orange">wavy</span>
		</h3>
		<section>
		<pre>
tube.geometry().vertexAnimation({
    // transform vertices on render
    transform	: function(origin, vector, present){
        // compute displacement
        var deltaX = Math.cos(present*0.4);
        var deltaY = Math.sin(present*0.4);
	// apply displacement
        vector.x = origin.x + deltaX;
        vector.y = origin.y + deltaY;
    }
});
</pre>
		</section>
	</article>
	<article class='nobackground'>
		<h3>
			Move the <span style="color: orange">player</span>
		</h3>
		<pre>
// Move player left/right
var playerAngle	= 0;
var keyboard	= tQuery.keyboard();
// hook the rendering loop
world.loop().hook(function(){
	// check the keyboard
	if( keyboard.pressed('right') )	playerAngle += 0.01;
	if( keyboard.pressed('left') )	playerAngle -= 0.01;
});
</pre>

	</article>



<!-- ****************************************************************************
		Tube Mini Game
********************************************************************************* -->
	<article>
		<h2>
			Anything else ?
		</h2>
	</article>
	<article>
		<h3>Conclusion</h3>
		<h4>three.js power + jQuery API Usability</h4>
		<ul>
			<li>
				seems a good recipe
			</li>
		</ul>
		<h4>The Code</h4>
		<ul>
			<li>All under MIT license</li>
			<li>Code on github at <a href="https://github.com/jeromeetienne/tquery">https://github.com/jeromeetienne/tquery</a></li>
			<li>Wanna play online ? use the <a href="/www/playground">playground</a></li>
		</ul>
	</article>
	<article>
		<h1>
			That's all folks.
		</h1>
		<h3>
			Question ?
		</h3>
		<p>
			Jerome Etienne
		</p>
	</article>
</body>
</html>
