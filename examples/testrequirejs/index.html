<!doctype html><title>Minimal tQuery Page</title>
<script>
var require = {
	paths	: {
		// here list all the plugins
		'tquery.keyboard'		: '/examples/keyboard/tquery.keyboard',
		'tquery.shape'			: '/examples/shape/tquery.shape',
		'tquery.shape.create'		: '/examples/shape/tquery.shape.create',
		'tquery.dollar3d'		: '/examples/dollar3d/tquery.dollar3d',
		'tquery.deviceorientation'	: '/examples/deviceorientation/tquery.deviceorientation',
		'tquery.domevent'		: '/examples/domevent/tquery.object3d.domevent',
		'tquery.fireballmaterial'	: '/examples/fireball/tquery.fireballmaterial',
		'tquery.planets'		: '/examples/planets/tquery.createplanet',
		'tquery.terrainGenerator'	: '/examples/terrainGenerator/tquery.terraingenerator',
		'tquery.createvideotexture'	: '/examples/videos/tquery.createvideotexture',
		'tquery.createwebcamtexture'	: '/examples/videos/tquery.createwebcamtexture',
		'tquery.wobble'			: '/examples/wobble/tquery.geometry.wobble',
		'tquery.text'			: '/examples/text/tquery.text',
		'tquery.linkify'		: '/examples/linkify/tquery.mesh.linkify',
		'tquery.all'			: '/examples/testrequirejs/tquery.all',
	}
};
</script>
<script src='../../vendor/require.js'></script>
<script src="../../build/tquery-bundle.js"></script>
<script src='../requirejs2/tquery.requirejs.js'></script>
<body><script>

/**
 * - should i make a a norequirejs ?
 *   - like require/define just calling the callback function
 *   - thus requirejs is no more a requirement, only an helper
*/
require(['tquery.all'], function(){
	var world	= tQuery.createWorld().fullpage().start();

	// setup lighting
	tQuery.createDirectionalLight().addTo(world).position(1,1,1);
	tQuery.createDirectionalLight().addTo(world).position(-1,1,1);
	tQuery.createAmbientLight().addTo(world).color(0xFFFFFF);

	// tquery.deviceOrientation
	if( false ){
		world.loop().hook(function(){
			var orientation	= tQuery.deviceOrientation();
			console.log("deviceorientation: x="+orientation.angleY()
				    +" y="+orientation.angleY()
				    +" z="+orientation.angleZ());
		});		
	}
	
	// tquery.wobble
	if( false ){
		tQuery.createSphere().addTo(world).geometry().wobble().back();
	}

	
	// tquery.createplanet
	if( false ){
		tQuery.createPlanet().addTo(world);
	}

	// tquery.createplanet
	if( false  ){
		var texture	= tQuery.createWebcamTexture();
		//var texture	= tQuery.createVideoTexture('../videos/sintel.ogv');

		var material	= new THREE.MeshBasicMaterial({
			ambient	: 0x444444,
			color	: 0xFFAA88,
			//map	: THREE.ImageUtils.loadTexture('../tunnelgl/ash_uvgrid01.jpg'),
			map	: texture
		});

		tQuery.createSphere(material).addTo(world)
			.rotateY(-90*Math.PI/180)
	}

	// tquery.fireballMaterial
	if( false ){
		tQuery.createCube().addTo(world).useFileballMaterial(2);
	}

	// tquery.domevent
	if( true ){
		tQuery.createCube().addTo(world).on('click', function(event){
			event.target.rotation.x	+= Math.PI/8;
		});		
	}

	// tquery.shape
	tQuery.createHeart().translateX(1).addTo(world);
	
	// tquery.keyboard
	var object	= tQuery.createTorus().translateX(-1).addTo(world);;
	world.loop().hook(function(){
		var scale	= tQuery.keyboard().pressed('a') ? 2 : 1;
		object.scale( scale );
	});
});

</script></body>